31170 Project Proposal updated may 4th
William Zhu, Kevin Wang

## Problem Statement

Financial markets tend to change their behaviors over time, creating ``market regimes''. A market regime is a period during which market conditions exhibit relatively stable and persistent characteristics, such as investment return behavior and volatility levels. For example, one may categorize market regimes using ``bull'' and ``bear'' markets. In a bull market, the equity market return is high, with relatively low volatility, and investors share optimistic and risk-on sentiment. In a bear market, the opposite situation is true. In different market regimes, different investing and trading strategies outperform the rest. Continuing with our example, in a bull market, investors can allocate more of their portfolio to the equity market and capture the high-than-usual returns while wearing lower-than-usual risk; in a bear market, investors can consider building a more defensive portfolio with more allocation to bonds to hedge against the potential larger-than-usual downside risk.

In this project, we intend to develop a data-driven and automated approach to categorizing market regimes and identifying regime changes using a Hidden Markov Model. This contributes to the industry (or at least ourselves) in two ways. First, it allows us to partition financial data into different regimes for data analysis. For example, our model may group abnormal periods such as the COVID-19 outbreak into one bin and the business-as-usual periods into another. This can reduce noise and outliers when we perform data analysis and formulate strategies as we consider these periods separately. Second, it allows us to have an automated ``lever'' to switch off our trading algorithms in unusual periods. For example, our trend-following trading strategy works well in periods in which investors are greedy and price momentum is high. Our regime identification model may be able to inform us of the current market regime and tell us whether the current period is a period of greed.

## Methodology

To model market regimes, we intend to use a Hidden Markov Model, which was covered in class when we talked about recursive Bayesian estimation. Preliminarily speaking, the hidden state $z_t$ is the latent market regime. The observations $\vec{x_t}$ are observable data emitted by the state, which include things like market indices (e.g., S\&P500, CBOE Volatility index, and Dow Jones Industrial Average, etc), interest rates and yield curve, and transformed variables such as the CNN Fear and Greed Index. For each time step $t$, the HMM computes the filtered probability $P(z_t = i \mid x_{1:t})$ for each possible regime $i$, given all observations up to time $t$, and the regime with the highest posterior probability is taken as the most likely regime at that time $t$. We can do this using the forward-backward algorithm covered in class.

We believe that HMM is an appropriate application to the regime detection problem for the following reasons. First, HMM assumes the existence of latent states that evolve over time. This matches the financial intuition that markets operate under different regimes (states) that are not directly labeled but manifest through observable variables. Second, HMM assumes that transitions between hidden states are memoryless (i.e., the probability of moving to a new regime depends only on the current one). This aligns with the efficient market assumption (a key assumption in our project) that all information is reflected in the current prices (this will be double-checked in our analysis). Finally, once trained, the HMM can compute the filtered posterior probability of each regime in real-time, making it useful for dynamic, adaptive decision-making such as asset allocation and strategy management.

In terms of data collection, daily market indices should be downloadable via Yahoo Finance; data on the interest rates can be downloaded from Federal Reserve Economic Data (``FRED''). We will adapt as we include miscellaneous features such as the Fear and Greed Index. We aim to obtain 20 years of daily data.

For model evaluation, we will use the log-likelihood on held-out data as a preliminary measure of model fit. Given the financial focus of our project, we also plan to integrate a simple trading strategy informed by the trained HMM. To assess the practical value of regime detection, we will compare the performance of the trading strategy with and without the use of HMM-inferred regimes, using metrics such as return-to-risk ratios (e.g., Sharpe ratio) as benchmarks.

We will use Python and related libraries like NumPy and Pandas for this project. We intend to spend the first two weeks conducting data collection, exploratory data analysis, and a quick preliminary fit of the HMM to evaluate the feasibility of our project. We will then spend another week developing the evaluation framework and fitting the HMM. In the last two weeks, we look to polish our findings and expand on the project using newly learned materials (using reinforcement learning techniques to train a trading bot with output states from HMM added as a variable could be interesting).
